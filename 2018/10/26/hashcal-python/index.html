<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c"><meta itemprop="name" content="python 实现文件校验">
<meta itemprop="description" content="今天又学习了点 argparse 库的东西——子命令实现的正确姿势(常规操作)，借着实现一个文件校验、比较的小工具来巩固一下刚学到的子命令实现。">


<meta itemprop="datePublished" content="2018-10-26T13:12:18&#43;08:00" />
<meta itemprop="dateModified" content="2018-10-26T13:12:18&#43;08:00" />
<meta itemprop="wordCount" content="1648">



<meta itemprop="keywords" content="python," />
<meta property="og:title" content="python 实现文件校验" />
<meta property="og:description" content="今天又学习了点 argparse 库的东西——子命令实现的正确姿势(常规操作)，借着实现一个文件校验、比较的小工具来巩固一下刚学到的子命令实现。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.smslit.top/2018/10/26/hashcal-python/" />
<meta property="article:published_time" content="2018-10-26T13:12:18+08:00" />
<meta property="article:modified_time" content="2018-10-26T13:12:18+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="python 实现文件校验"/>
<meta name="twitter:description" content="今天又学习了点 argparse 库的东西——子命令实现的正确姿势(常规操作)，借着实现一个文件校验、比较的小工具来巩固一下刚学到的子命令实现。"/>
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>python 实现文件校验</title>
	<link rel="stylesheet" href="https://www.smslit.top/css/style.min.b43f86a9fe00dca489cb2beeefb24f0a9268621da439e98847877ddaf555264e.css" integrity="sha256-tD+Gqf4A3KSJyyvu77JPCpJoYh2kOemIR4d92vVVJk4=">
	
	<link rel="stylesheet" href="https://www.smslit.top/css/valine.css">
	<link rel="stylesheet" href="https://www.smslit.top/css/reward.css">
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://www.smslit.top">SMSLIT</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					<a href="https://www.smslit.top/post/">Posts</a>
					<a href="https://www.smslit.top/tags/">Tags</a>
					<a href="https://www.smslit.top/about/">Me</a>
					<a href="https://smslit.coding.me/LeetCodeDaily/">LeetCode</a>
				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<button id="toc-btn" class="hdr-btn desktop-only-ib" title="目录"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line></svg></button><span class="hdr-social hide-in-mobile"><a href="http://weibo.com/u/2684217817" target="_blank" rel="noopener" title="Weibo"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg"  fill="none" fill-rule="evenodd" class="feather feather-mail">
    <g transform="translate(0.000000, 2.000000)" fill="#000000" fill-rule="nonzero" id="形状">
        <path d="M23.7,8.59152679 C23.6,8.94964029 23.25,9.20543566 22.9,9.25659472 C22.55,9.30775379 22.2,9.10311751 22,8.745004 C21.9,8.54036772 21.85,8.28457235 21.95,8.02877698 C22.45,6.44284573 22.1,4.70343724 21,3.4756195 C19.9,2.24780175 18.3,1.68505194 16.7,2.04316547 C16.45,2.09432453 16.2,2.04316547 16,1.88968825 C15.8,1.73621103 15.65,1.53157475 15.6,1.27577938 C15.5,0.764188657 15.8,0.252597914 16.3,0.150279784 C18.45,-0.310151871 20.75,0.354916067 22.35,2.14548362 C23.95,3.98721024 24.35,6.44284573 23.7,8.59152679 Z M17.35,5.06155077 C17.15,5.11270983 16.95,5.06155077 16.75,4.95923261 C16.55,4.85691446 16.45,4.65227818 16.4,4.44764189 C16.3,3.98721024 16.6,3.57793765 17,3.4756195 C18.1,3.21982412 19.2,3.62909671 19.95,4.44764189 C20.7,5.31734614 20.9,6.4940048 20.6,7.56834532 C20.55,7.77298161 20.4,7.92645882 20.2,8.02877698 C20,8.13109513 19.8,8.13109513 19.6,8.07993604 C19.2,7.92645882 18.95,7.46602717 19.1,7.0567546 C19.25,6.54516388 19.15,5.93125501 18.8,5.52198242 C18.4,5.11270983 17.85,4.95923261 17.35,5.06155077 Z M18.05,9.66586731 C19.45,10.126299 20.95,11.1494804 20.95,13.0423661 C20.95,16.1119105 16.6,20 10.1,20 C5.1,20 1.13686838e-13,17.5443645 1.13686838e-13,13.4516387 C1.13686838e-13,11.3029576 1.30000001,8.84732213 3.6,6.54516386 C6.6,3.42446043 10.15,2.04316547 11.45,3.37330137 C12.05,3.98721024 12.1,5.0103917 11.7,6.23820942 C11.5,6.8521183 12.25,6.4940048 12.25,6.4940048 C14.7,5.41966427 16.85,5.3685052 17.6,6.54516386 C18,7.15907273 17.95,8.02877698 17.6,9.00079935 C17.45,9.46123101 17.7,9.56354916 18.05,9.66586731 Z M10.1,18.5163869 C14.05,18.1071143 17.1,15.6003197 16.85,12.940048 C16.6,10.2797762 13.15,8.43804957 9.19999999,8.84732213 C5.25,9.25659472 2.19999998,11.7633893 2.44999999,14.4236611 C2.7,17.0839329 6.09999998,18.9256595 10.1,18.5163869 Z M10.5,10.8936851 C12.45,11.4052758 13.45,13.2981615 12.65,15.1398881 C11.85,17.0327738 9.49999999,18.0047962 7.54999999,17.3908873 C5.64999998,16.7769784 4.84999999,14.8329336 5.65000001,13.0935252 C6.45,11.3541167 8.60000002,10.3820943 10.5,10.8936851 Z M9.04999999,15.3445244 C9.45,14.7306155 9.24999998,13.9632294 8.59999999,13.7074341 C7.99999999,13.4516387 7.2,13.7074341 6.79999999,14.3213429 C6.39999998,14.9352518 6.6,15.6514788 7.2,15.9584333 C7.84999999,16.2653877 8.65000001,16.0095923 9.04999999,15.3445244 Z" fill="currentColor"></path>
    </g>
</svg></a><a href="https://www.zhihu.com/people/smslit/activities" target="_blank" rel="noopener" title="Zhihu"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="none" fill-rule="evenodd" class="feather feather-mail">
    <path d="M12.1197571,11.3394973 C11.2394396,11.2471275 8.50587146,11.3394973 8.50587146,11.3394973 L8.50587146,5.8004836 L12.5830381,5.8004836 C12.5830381,5.8004836 12.5367176,3.95412048 11.7490411,3.95412048 L5.12356308,3.95412048 L6.23550841,1 C6.23550841,1 4.56753979,1.09236985 3.96524661,2.15395489 C3.36295344,3.21553992 1.46333165,8.52386857 1.46333165,8.52386857 C1.46333165,8.52386857 2.11199596,8.80082682 3.17759547,8.0161496 C4.2432456,7.2314976 4.6138603,5.84665591 4.6138603,5.84665591 L6.5598026,5.75428606 L6.60612311,11.3856444 C6.60612311,11.3856444 3.22394129,11.3394973 2.52895647,11.3856444 C1.83397166,11.4317915 1.46330634,13.2781799 1.46330634,13.2781799 L6.60619904,13.2781799 C6.60619904,13.2781799 6.14281677,16.4169392 4.8455894,18.6787523 C3.50191497,20.9405149 1,22.7406553 1,22.7406553 C1,22.7406553 2.80693015,23.4791854 4.56761573,22.4636971 C6.32822537,21.4020364 7.62555398,16.8323387 7.62555398,16.8323387 L11.7491424,21.9559781 C11.7491424,21.9559781 12.1197824,19.5096018 11.7028219,18.8172188 C11.2394396,18.1248358 8.83019096,15.3553541 8.83019096,15.3553541 L7.76454082,16.2784726 L8.50584615,13.2319823 L12.9999986,13.2319823 C13.0000745,13.2320328 13.0000745,11.4318672 12.1197571,11.3394973 Z M14.0447646,4 L14,20.8940959 L15.6119399,20.8940959 L16.1940015,23 L19.014927,20.8940959 L23,20.8940959 L23,4 L14.0448624,4 L14.0447646,4 Z M21,18.2118088 L19.2203194,18.2118088 L16.9745545,20 L16.4660842,18.2118088 L16,18.2118088 L16,6 L21,6 L21,18.2118088 Z" id="形状" fill="currentColor" fill-rule="nonzero"></path>    
</svg></a><a href="mailto:5km@smslit.cn" target="_blank" rel="noopener" title="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://github.com/smslit" target="_blank" rel="noopener" title="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="菜单"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://www.smslit.top/post/">Posts</a></li>
			<li><a href="https://www.smslit.top/tags/">Tags</a></li>
			<li><a href="https://www.smslit.top/about/">Me</a></li>
			<li><a href="https://smslit.coding.me/LeetCodeDaily/">LeetCode</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Oct 26, 2018</span></div>
				<h1>python 实现文件校验</h1>
			</header>
			<div class="content">
				<p>今天又学习了点 <code>argparse</code> 库的东西——子命令实现的正确姿势(常规操作)，借着实现一个文件校验、比较的小工具来巩固一下刚学到的子命令实现。</p>

<p>本文实现了一个名为 <code>hashpare</code><sup class="footnote-ref" id="fnref:hashpare-hash-ha"><a href="#fn:hashpare-hash-ha">1</a></sup> 的工具，我已经托管到 <a href="https://github.com/smslit" target="_blank">github</a> 上<a href="https://github.com/smslit/tools-with-script/tree/master/hashpare" target="_blank">tools-with-script/hashpare</a>。总感觉直接上代码有点粗暴，下面分步骤讲解实现过程。</p>

<h1 id="脚本准备">脚本准备</h1>

<ol>
<li>新建文件： <code>touch hashpare</code></li>
<li>添加文件运行权限： <code>chmod +x hashpare</code></li>

<li><p>注明脚本解释器，文中首行添加：</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="ch">#!/usr/bin/env python3</span></code></pre></div></li>

<li><p>本文会用到三个内建库，分别是 <code>os</code>、<code>hashlib</code>、<code>argparse</code>，导入它们：</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">argparse</span></code></pre></div>
<ul>
<li><code>os</code>: 用来操作文件或目录的路径</li>
<li><code>hashlib</code>: 用来计算文件的 hash 值</li>
<li><code>argparse</code>: 用来解析命令行参数，本文会用到 <code>add_subparsers</code> 添加子解析器集，从而添加子命令<sup class="footnote-ref" id="fnref:Many-programs-sp"><a href="#fn:Many-programs-sp">2</a></sup></li>
</ul></li>
</ol>

<h1 id="计算校验">计算校验</h1>

<p>这里使用 <code>hashlib</code> 来计算文件的校验码，封装函数如下：</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="k">def</span> <span class="nf">calculate_hashvalue</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sha1&#39;</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;计算文件校验值，可选校验算法 sha1 或 md5
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">]:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;[-] 不支持校验算法: {algorithm} [-]&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">algorithm</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="n">hashobj</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">()</span> <span class="k">if</span> <span class="n">algorithm</span> <span class="o">==</span> <span class="s1">&#39;sha1&#39;</span> <span class="k">else</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">hashobj</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">algorithm</span><span class="p">,</span> <span class="n">hashobj</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span></code></pre></div>
<p>方法内部实现很简单，就是根据指定的校验算法计算指定文件的校验码，并返回校验算法名称和校验码。</p>

<h1 id="解析参数">解析参数</h1>

<p>将解析参数相关配置和操作封装到 <code>process_with_args</code> 函数中：</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="k">def</span> <span class="nf">process_with_args</span><span class="p">():</span>
    <span class="s2">&#34;&#34;&#34;解析命令行参数
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;计算文件校验，检查校验值，比较两个文件&#39;</span><span class="p">)</span>
    <span class="n">commands</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_subparsers</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s1">&#39;子命令&#39;</span><span class="p">)</span>
    <span class="n">check</span> <span class="o">=</span> <span class="n">commands</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span><span class="s1">&#39;check&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;检查校验值命令&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指明文件路径&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;hash&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指定校验码&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-a&#39;</span><span class="p">,</span> <span class="s1">&#39;--algorithm&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">],</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指定校验算法&#39;</span><span class="p">)</span>
    <span class="n">check</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">check_hash</span><span class="p">)</span>
    <span class="n">compare</span> <span class="o">=</span> <span class="n">commands</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span><span class="s1">&#39;compare&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;比较两个文件&#39;</span><span class="p">)</span>
    <span class="n">compare</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指定要比较的两个文件&#39;</span><span class="p">)</span>
    <span class="n">compare</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-a&#39;</span><span class="p">,</span> <span class="s1">&#39;--algorithm&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">],</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指定校验算法&#39;</span><span class="p">)</span>
    <span class="n">compare</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">compare_hash</span><span class="p">)</span>
    <span class="n">calculate</span> <span class="o">=</span> <span class="n">commands</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span><span class="s1">&#39;calculate&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;计算校验码&#39;</span><span class="p">)</span>
    <span class="n">calculate</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指定要计算校验的文件&#39;</span><span class="p">)</span>
    <span class="n">calculate</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-a&#39;</span><span class="p">,</span> <span class="s1">&#39;--algorithm&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sha1&#39;</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">],</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;指定校验算法&#39;</span><span class="p">)</span>
    <span class="n">calculate</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">calculate_hash</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span></code></pre></div>
<p>上述代码很想可以看到，有三个子命令：</p>

<ul>
<li>check: 主要是用来检验文件的校验值是不是与给定的校验码一致</li>
<li>compare: 比较两个文件的校验值从而验证内容是否一致</li>
<li>calculate: 计算给定文件的校验码</li>
</ul>

<p>另外，每个子命令的解析器都绑定了一个处理函数，这种方式是处理子命令更加方便。</p>

<h2 id="check子命令处理">check子命令处理</h2>

<p>check 子命令绑定了方法 <code>check_hash</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="k">def</span> <span class="nf">check_hash</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="n">args</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
    <span class="n">algorithm</span><span class="p">,</span> <span class="n">hashvalue</span> <span class="o">=</span> <span class="n">calculate_hashvalue</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">algorithm</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">    {args.file}</span><span class="se">\n</span><span class="s1">    {algorithm}: {hashvalue}&#39;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;一致&#39;</span> <span class="k">if</span> <span class="n">hashvalue</span> <span class="o">==</span> <span class="n">args</span><span class="o">.</span><span class="n">hash</span> <span class="k">else</span> <span class="s1">&#39;不一致&#39;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">    文件校验码与 {args.hash} {result}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></code></pre></div>
<p>这个方法会打印文件的名称和校验码，最终打印与给定校验码的比较结果。</p>

<h2 id="compare子命令处理">compare子命令处理</h2>

<p>compare 子命令绑定了方法 <code>compare_hash</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="k">def</span> <span class="nf">compare_hash</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="k">print</span><span class="p">()</span>
    <span class="n">hashvalue</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="p">):</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="n">algorithm</span><span class="p">,</span> <span class="n">hashvalue</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_hashvalue</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">algorithm</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;    name: {filepath}</span><span class="se">\n</span><span class="s1">    {algorithm}: {hashvalue[i]}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;一致&#39;</span> <span class="k">if</span> <span class="n">hashvalue</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">hashvalue</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="s1">&#39;不一致&#39;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;    两文件内容{result}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></code></pre></div>
<p>这里最终会打印两个文件的名称、校验码，以及最终的比较结果。</p>

<h2 id="calculate子命令处理">calculate子命令处理</h2>

<p>calculate 子命令绑定了方法<code>calculate_hash</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="k">def</span> <span class="nf">calculate_hash</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="k">print</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">filepath</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">file</span><span class="p">:</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="n">algorithm</span><span class="p">,</span> <span class="n">hashvalue</span> <span class="o">=</span> <span class="n">calculate_hashvalue</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">algorithm</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;    name: {filepath}</span><span class="se">\n</span><span class="s1">    {algorithm}: {hashvalue}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></code></pre></div>
<p>最终会打印所有指定文件的名称及计算的校验码。</p>

<h1 id="最终实现">最终实现</h1>

<p>最终实现非常简单，只需要如下即可：</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">process_with_args</span><span class="p">()</span>
    <span class="n">args</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code></pre></div>
<h1 id="测试">测试</h1>

<p>工具的帮助信息如下</p>
<div class="highlight"><pre class="chroma"><code class="language-Shell" data-lang="Shell">$ ./hashpare -h
usage: hashpare <span class="o">[</span>-h<span class="o">]</span> <span class="o">{</span>check,compare,calculate<span class="o">}</span> ...

计算文件校验，检查校验值，比较两个文件

positional arguments:
  <span class="o">{</span>check,compare,calculate<span class="o">}</span>
                        子命令
    check               检查校验值命令
    compare             比较两个文件
    calculate           计算校验码

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and exit</code></pre></div>
<h2 id="测试check子命令">测试check子命令</h2>

<p>这里针对 <code>README.md</code> 文件进行测试</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">check</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="mi">1234567890</span>

    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">sha1</span><span class="p">:</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span>

    <span class="err">文件校验码与</span> <span class="mi">1234567890</span> <span class="err">不一致</span>

<span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">check</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span> <span class="o">-</span><span class="n">a</span> <span class="n">sha1</span>

    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">sha1</span><span class="p">:</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span>

    <span class="err">文件校验码与</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span> <span class="err">一致</span>

<span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">check</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span> <span class="o">-</span><span class="n">a</span> <span class="n">md5</span>

    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">md5</span><span class="p">:</span> <span class="mi">0</span><span class="n">ea8599b24a76f586a6610bf9156b1e7</span>

    <span class="err">文件校验码与</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span> <span class="err">不一致</span></code></pre></div>
<h2 id="测试compare子命令">测试compare子命令</h2>

<p>针对文件 <code>README.md</code> 测试</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">compare</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span>

    <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">sha1</span><span class="p">:</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span>

    <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">sha1</span><span class="p">:</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span>

    <span class="err">两文件内容一致</span>

<span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">compare</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="o">-</span><span class="n">a</span> <span class="n">md5</span>

    <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">md5</span><span class="p">:</span> <span class="mi">0</span><span class="n">ea8599b24a76f586a6610bf9156b1e7</span>

    <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">md5</span><span class="p">:</span> <span class="mi">0</span><span class="n">ea8599b24a76f586a6610bf9156b1e7</span>

    <span class="err">两文件内容一致</span></code></pre></div>
<h2 id="测试calculate子命令">测试calculate子命令</h2>

<p>这里计算 <code>README.md</code> 的校验码：</p>
<div class="highlight"><pre class="chroma"><code class="language-Python" data-lang="Python"><span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">calculate</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span>

    <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">sha1</span><span class="p">:</span> <span class="n">daf0fe7a2fab819444d21b1c082e161f6d613875</span>

<span class="err">$</span> <span class="o">./</span><span class="n">hashpare</span> <span class="n">calculate</span> <span class="n">README</span><span class="o">.</span><span class="n">md</span> <span class="o">-</span><span class="n">a</span> <span class="n">md5</span>

    <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="mi">5</span><span class="n">km</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">tools</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">script</span><span class="o">/</span><span class="n">hashpare</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
    <span class="n">md5</span><span class="p">:</span> <span class="mi">0</span><span class="n">ea8599b24a76f586a6610bf9156b1e7</span></code></pre></div><div class="footnotes">

<hr />

<ol>
<li id="fn:hashpare-hash-ha">之所以叫 <code>hashpare</code>, 是因为工具使用 <strong>hash</strong> 值对文件进行比较，就是 <strong>hash compare</strong>，合称 <code>hashpare</code> <a class="footnote-return" href="#fnref:hashpare-hash-ha"><sup>[return]</sup></a></li>
<li id="fn:Many-programs-sp">Many programs split up their functionality into a number of sub-commands, for example, the svn program can invoke sub-commands like svn checkout, svn update, and svn commit&hellip;<code>ArgumentParser</code> supports the creation of such sub-commands with the <code>add_subparsers()</code> method&hellip;, <a href="https://docs.python.org/3/library/argparse.html#sub-commands" target="_blank">Sub-commands</a> <a class="footnote-return" href="#fnref:Many-programs-sp"><sup>[return]</sup></a></li>
</ol>
</div>
			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://www.smslit.top/tags/python">python</a></span>
				</p>
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
					1648 字
				</p>
				<p>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
					2018-10-26 13:12 &#43;0800</p>
			</footer>
		</article>
		<aside id="toc">
			<div class="toc-title">目录</div>
			<nav id="TableOfContents">
<ul>
<li><a href="#脚本准备">脚本准备</a></li>
<li><a href="#计算校验">计算校验</a></li>
<li><a href="#解析参数">解析参数</a>
<ul>
<li><a href="#check子命令处理">check子命令处理</a></li>
<li><a href="#compare子命令处理">compare子命令处理</a></li>
<li><a href="#calculate子命令处理">calculate子命令处理</a></li>
</ul></li>
<li><a href="#最终实现">最终实现</a></li>
<li><a href="#测试">测试</a>
<ul>
<li><a href="#测试check子命令">测试check子命令</a></li>
<li><a href="#测试compare子命令">测试compare子命令</a></li>
<li><a href="#测试calculate子命令">测试calculate子命令</a></li>
</ul></li>
</ul>
</nav>
		</aside>
		<div class="post-nav thin">
			<a class="next-post" href="https://www.smslit.top/2018/11/02/python-dev-in-windows/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;下一篇</span><br><span>windows 下 python 开发利器 vscode 的锻造</span>
			</a>
			<a class="prev-post" href="https://www.smslit.top/2018/10/25/encoding-python/">
				<span class="post-nav-label">上一篇&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>python 实现文本文件的编码检测和转换</span>
			</a>
		</div>
		<div id="comments" class="thin">
		<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">打赏作者</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/assets/pay/wechatpay.png">
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/assets/pay/alipay.png">
      </label>
  </div>
</div>


<span id="/2018/10/26/hashcal-python/" class="leancloud_visitors" data-flag-title="python 实现文件校验">
  <span class="post-meta-item-text">访问量 </span>
  <span class="leancloud-visitors-count"></span>
  <p></p>
</span>
<div id="vcomments"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script type="text/javascript">
  new Valine({
      el: '#vcomments' ,
      appId: 'IlJ4XQsE83q10RN3Maoglx2x-gzGzoHsz',
      appKey: 'OxVuAMUYBTbDMO9vO2IqTsMR',
      notify:  false , 
      verify:  false , 
      avatar:'', 
      placeholder: '说点什么吧...(提醒：填写邮箱，若有人回复您，您将及时收到提醒邮件！)',
      visitor:  true 
  });
</script>
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="https://www.smslit.top">5km</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://www.smslit.top/post/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>


	<script src="https://www.smslit.top/js/main.min.8f39f24808e9d0a9b02da58c2d2838da859dc0b7bdfadbdb1883aae8b6adacfe.js" integrity="sha256-jznySAjp0KmwLaWMLSg42oWdwLe9+tvbGIOq6LatrP4="></script>

	
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: {equationNumbers: {autoNumber: "AMS"}},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"  integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>








</body>

</html>
